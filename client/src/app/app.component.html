<nav class="navbar-expand-md navbar-dark bg-main">
    <div class="container-fluid">
        <a routerLink="/" class="navbar-brand">
            <img src="./assets/images/logo.png"
                 alt="Logo"
                 class="logo">Ng Amazon
        </a>
        <button class="navbar-toggler"
                (click)="toggleCollapse()">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div [ngbCollapse]="isCollapsed"
             style="align-items: left; margin-left: 50px"
             class="collapse navbar-collapse flex-column"
             id="navbarNav"
        >
            <div class="input-group w-75">
                <input type="text"
                       name="search"
                       class="form-control"
                       [(ngModel)]="searchTerm"
                       (keyup.enter)="search()">
                <span id="seachBtn"
                      class="bg-warning input-group-append"
                      (click)="search()"><i class="fa fa-search"></i>
        </span>
            </div>
            <div class="w-100">
                <ul class="nav navbar-nav">
                    <li class="nav-item">
                        <a (click)="collapse()"
                           routerLink="/categories"
                           routerLinkActive="active"
                           class="nav-link">Categories</a>
                    </li>
                    <li class="nav-item ml-0 ml-md-auto" ngbDropdown #dropdown="ngbDropdown">
                        <a class="nav-link dropdown-toggle" ngbDropdownToggle>
                            <i class="fa fa-user mr-1"></i>
                            <span *ngIf="!token">Account</span>
                        </a>
                        <div ngbDropdownMenu class="dropdown-menu">
                            <a *ngIf="token"
                               (click)="closeDropdown(); collapse()"
                               routerLink="/profile"
                               class="dropdown-item">
                                <i class="fa fa-user-circle"
                                   aria-hidden="true"></i>
                                Profile
                            </a>
                            <a *ngIf="!token"
                               (click)="closeDropdown(); collapse()"
                               routerLink="/login"
                               class="dropdown-item">
                                <i class="fa fa-user-key"
                                   aria-hidden="true"></i>
                                Login
                            </a>
                            <a *ngIf="token"
                               (click)="closeDropdown(); collapse(); logout()"
                               class="dropdown-item">
                                <i class="fa fa-user-key"
                                   aria-hidden="true"></i>
                                Logout
                            </a>
                            <a *ngIf="!token"
                               (click)="closeDropdown(); collapse()"
                               routerLink="/register"
                               class="dropdown-item">
                                <i class="fa fa-user-group"
                                   aria-hidden="true"></i>
                                Register
                            </a>
                        </div>
                    </li>
                    <li class="nav-item ml-0 ml-md-2">
                        <a (click)="collapse()"
                           routerLink="/cart"
                           routerLinkActive="active"
                           class="nav-link">
                            <i class="fa fa-shopping-cart mr-1"></i>
                            Cart
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<router-outlet></router-outlet>


<footer id="main-footer" class="bg-main text-white mt-5 p-5">
    <div class="container">
        <p class="lead text-center">Copyright &copy;</p>
    </div>
</footer>